name: Run Sniper Bot

on:
  schedule:
    # à¸•à¸±à¹‰à¸‡à¹€à¸§à¸¥à¸²à¸—à¸³à¸‡à¸²à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¹€à¸§à¸¥à¸² Server UTC = à¹€à¸§à¸¥à¸²à¹„à¸—à¸¢ -7 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡)
    - cron: '0 3 * * *'   # à¸„à¸·à¸­ 10:00 à¸™. à¹€à¸¡à¸·à¸­à¸‡à¹„à¸—à¸¢ (à¸•à¸¥à¸²à¸”à¹€à¸Šà¹‰à¸²)
    - cron: '0 10 * * *'  # à¸„à¸·à¸­ 17:00 à¸™. à¹€à¸¡à¸·à¸­à¸‡à¹„à¸—à¸¢ (à¸•à¸¥à¸²à¸”à¸›à¸´à¸”)
  
  workflow_dispatch:      # <--- ðŸš¨ à¸šà¸£à¸£à¸—à¸±à¸”à¸™à¸µà¹‰à¹à¸«à¸¥à¸°à¸„à¸£à¸±à¸š "à¸«à¸±à¸§à¹ƒà¸ˆà¸ªà¸³à¸„à¸±à¸" à¸—à¸µà¹ˆà¸—à¸³à¹ƒà¸«à¹‰à¸¡à¸µà¸›à¸¸à¹ˆà¸¡à¸à¸”!

jobs:
  run-sniper:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python 3.11
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Install dependencies
        run: |
          pip install yfinance pandas requests

      - name: Run Auto Bot
        env:
          # à¸”à¸¶à¸‡à¸à¸¸à¸à¹à¸ˆà¸ˆà¸²à¸ Secrets à¸¡à¸²à¹ƒà¸Šà¹‰
          TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
          LINE_ACCESS_TOKEN: ${{ secrets.LINE_ACCESS_TOKEN }}
          LINE_USER_ID: ${{ secrets.LINE_USER_ID }}
        run: python auto_bot.py
